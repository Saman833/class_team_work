{"ast":null,"code":"var _jsxFileName = \"/Users/glazochek/PycharmProjects/M8 Python 3/react_hookey/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WIDTH = 800;\nconst HEIGHT = 600;\nconst PADDLE_RADIUS = 40;\nconst BALL_RADIUS = 20;\nconst WHITE = '#FFFFFF';\nconst RED = '#FF0000';\nconst BLUE = '#0000FF';\nconst BLACK = '#000000';\nconst GRAY = '#CCCCCC';\nconst GREEN = '#00FF00';\nfunction App() {\n  _s();\n  const canvasRef = useRef(null);\n  const [connected, setConnected] = useState(false);\n  const [gameStarted, setGameStarted] = useState(false);\n  const [playerId, setPlayerId] = useState(null);\n  const [player1, setPlayer1] = useState({\n    x: 0,\n    y: 0\n  });\n  const [player2, setPlayer2] = useState({\n    x: 0,\n    y: 0\n  });\n  const [ball, setBall] = useState({\n    x: WIDTH / 2,\n    y: HEIGHT / 2\n  });\n  const [date, setDate] = useState('');\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    const ws = new WebSocket('ws://localhost:3000');\n    ws.onopen = () => {\n      setConnected(true);\n    };\n    ws.onmessage = message => {\n      const data = JSON.parse(message.data);\n      if (data.player_id !== undefined) {\n        setPlayerId(data.player_id);\n      }\n      setPlayer1(data.player1);\n      setPlayer2(data.player2);\n      setBall(data.ball);\n      setGameStarted(data.game_started);\n      setDate(data.date);\n    };\n    ws.onclose = () => {\n      setConnected(false);\n    };\n    const draw = () => {\n      ctx.fillStyle = WHITE;\n      ctx.fillRect(0, 0, WIDTH, HEIGHT);\n      ctx.strokeStyle = GRAY;\n      ctx.beginPath();\n      ctx.moveTo(WIDTH / 2, 0);\n      ctx.lineTo(WIDTH / 2, HEIGHT);\n      ctx.stroke();\n      ctx.beginPath();\n      ctx.arc(WIDTH / 2, HEIGHT / 2, 50, 0, 2 * Math.PI);\n      ctx.stroke();\n      ctx.fillStyle = RED;\n      ctx.beginPath();\n      ctx.arc(player1.x, player1.y, PADDLE_RADIUS, 0, 2 * Math.PI);\n      ctx.fill();\n      ctx.fillStyle = BLUE;\n      ctx.beginPath();\n      ctx.arc(player2.x, player2.y, PADDLE_RADIUS, 0, 2 * Math.PI);\n      ctx.fill();\n      ctx.fillStyle = BLACK;\n      ctx.beginPath();\n      ctx.arc(ball.x, ball.y, BALL_RADIUS, 0, 2 * Math.PI);\n      ctx.fill();\n      ctx.fillStyle = BLACK;\n      ctx.font = '36px Arial';\n      if (!gameStarted) {\n        ctx.fillText('Waiting for another player...', WIDTH / 2 - 150, 50);\n      } else {\n        if (playerId === 0) {\n          ctx.fillText('You are Player 1 (Red)', WIDTH / 2 - 100, 50);\n        } else {\n          ctx.fillText('You are Player 2 (Blue)', WIDTH / 2 - 100, 50);\n        }\n      }\n      ctx.fillStyle = connected ? GREEN : RED;\n      ctx.fillText(connected ? 'Connected' : 'Disconnected', WIDTH - 150, 50);\n      ctx.fillText(`Date: ${date}`, 10, 50);\n    };\n    const mouseMoveHandler = e => {\n      if (connected && gameStarted) {\n        const rect = canvas.getBoundingClientRect();\n        const mouseX = e.clientX - rect.left;\n        const mouseY = e.clientY - rect.top;\n        const myX = Math.max(PADDLE_RADIUS, Math.min(mouseX, WIDTH - PADDLE_RADIUS));\n        const myY = Math.max(PADDLE_RADIUS, Math.min(mouseY, HEIGHT - PADDLE_RADIUS));\n        ws.send(JSON.stringify({\n          x: myX,\n          y: myY\n        }));\n      }\n    };\n    canvas.addEventListener('mousemove', mouseMoveHandler);\n    const interval = setInterval(draw, 1000 / 60);\n    return () => {\n      clearInterval(interval);\n      canvas.removeEventListener('mousemove', mouseMoveHandler);\n      ws.close();\n    };\n  }, [connected, gameStarted, player1, player2, ball, playerId, date]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      width: WIDTH,\n      height: HEIGHT\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"ih6pD/F4HvpZ/9SA+UaGc2WzWTo=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useRef","useState","jsxDEV","_jsxDEV","WIDTH","HEIGHT","PADDLE_RADIUS","BALL_RADIUS","WHITE","RED","BLUE","BLACK","GRAY","GREEN","App","_s","canvasRef","connected","setConnected","gameStarted","setGameStarted","playerId","setPlayerId","player1","setPlayer1","x","y","player2","setPlayer2","ball","setBall","date","setDate","canvas","current","ctx","getContext","ws","WebSocket","onopen","onmessage","message","data","JSON","parse","player_id","undefined","game_started","onclose","draw","fillStyle","fillRect","strokeStyle","beginPath","moveTo","lineTo","stroke","arc","Math","PI","fill","font","fillText","mouseMoveHandler","e","rect","getBoundingClientRect","mouseX","clientX","left","mouseY","clientY","top","myX","max","min","myY","send","stringify","addEventListener","interval","setInterval","clearInterval","removeEventListener","close","className","children","ref","width","height","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/glazochek/PycharmProjects/M8 Python 3/react_hookey/src/App.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport './App.css';\n\nconst WIDTH = 800;\nconst HEIGHT = 600;\nconst PADDLE_RADIUS = 40;\nconst BALL_RADIUS = 20;\nconst WHITE = '#FFFFFF';\nconst RED = '#FF0000';\nconst BLUE = '#0000FF';\nconst BLACK = '#000000';\nconst GRAY = '#CCCCCC';\nconst GREEN = '#00FF00';\n\nfunction App() {\n  const canvasRef = useRef(null);\n  const [connected, setConnected] = useState(false);\n  const [gameStarted, setGameStarted] = useState(false);\n  const [playerId, setPlayerId] = useState(null);\n  const [player1, setPlayer1] = useState({ x: 0, y: 0 });\n  const [player2, setPlayer2] = useState({ x: 0, y: 0 });\n  const [ball, setBall] = useState({ x: WIDTH / 2, y: HEIGHT / 2 });\n  const [date, setDate] = useState('');\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    const ws = new WebSocket('ws://localhost:3000');\n\n    ws.onopen = () => {\n      setConnected(true);\n    };\n\n    ws.onmessage = (message) => {\n      const data = JSON.parse(message.data);\n      if (data.player_id !== undefined) {\n        setPlayerId(data.player_id);\n      }\n      setPlayer1(data.player1);\n      setPlayer2(data.player2);\n      setBall(data.ball);\n      setGameStarted(data.game_started);\n      setDate(data.date);\n    };\n\n    ws.onclose = () => {\n      setConnected(false);\n    };\n\n    const draw = () => {\n      ctx.fillStyle = WHITE;\n      ctx.fillRect(0, 0, WIDTH, HEIGHT);\n\n      ctx.strokeStyle = GRAY;\n      ctx.beginPath();\n      ctx.moveTo(WIDTH / 2, 0);\n      ctx.lineTo(WIDTH / 2, HEIGHT);\n      ctx.stroke();\n\n      ctx.beginPath();\n      ctx.arc(WIDTH / 2, HEIGHT / 2, 50, 0, 2 * Math.PI);\n      ctx.stroke();\n\n      ctx.fillStyle = RED;\n      ctx.beginPath();\n      ctx.arc(player1.x, player1.y, PADDLE_RADIUS, 0, 2 * Math.PI);\n      ctx.fill();\n\n      ctx.fillStyle = BLUE;\n      ctx.beginPath();\n      ctx.arc(player2.x, player2.y, PADDLE_RADIUS, 0, 2 * Math.PI);\n      ctx.fill();\n\n      ctx.fillStyle = BLACK;\n      ctx.beginPath();\n      ctx.arc(ball.x, ball.y, BALL_RADIUS, 0, 2 * Math.PI);\n      ctx.fill();\n\n      ctx.fillStyle = BLACK;\n      ctx.font = '36px Arial';\n      if (!gameStarted) {\n        ctx.fillText('Waiting for another player...', WIDTH / 2 - 150, 50);\n      } else {\n        if (playerId === 0) {\n          ctx.fillText('You are Player 1 (Red)', WIDTH / 2 - 100, 50);\n        } else {\n          ctx.fillText('You are Player 2 (Blue)', WIDTH / 2 - 100, 50);\n        }\n      }\n\n      ctx.fillStyle = connected ? GREEN : RED;\n      ctx.fillText(connected ? 'Connected' : 'Disconnected', WIDTH - 150, 50);\n      ctx.fillText(`Date: ${date}`, 10, 50);\n    };\n\n    const mouseMoveHandler = (e) => {\n      if (connected && gameStarted) {\n        const rect = canvas.getBoundingClientRect();\n        const mouseX = e.clientX - rect.left;\n        const mouseY = e.clientY - rect.top;\n\n        const myX = Math.max(PADDLE_RADIUS, Math.min(mouseX, WIDTH - PADDLE_RADIUS));\n        const myY = Math.max(PADDLE_RADIUS, Math.min(mouseY, HEIGHT - PADDLE_RADIUS));\n\n        ws.send(JSON.stringify({ x: myX, y: myY }));\n      }\n    };\n\n    canvas.addEventListener('mousemove', mouseMoveHandler);\n\n    const interval = setInterval(draw, 1000 / 60);\n\n    return () => {\n      clearInterval(interval);\n      canvas.removeEventListener('mousemove', mouseMoveHandler);\n      ws.close();\n    };\n  }, [connected, gameStarted, player1, player2, ball, playerId, date]);\n\n  return (\n    <div className=\"App\">\n      <canvas ref={canvasRef} width={WIDTH} height={HEIGHT} />\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}