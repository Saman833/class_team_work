{"ast":null,"code":"var _jsxFileName = \"/Users/glazochek/PycharmProjects/M8 Python 3/react_hookey/src/components/HockeyField.jsx\",\n  _s = $RefreshSig$();\n// import React, { useEffect, useState, useRef } from 'react';\n// import Player from './Player';\n// import Ball from './Ball';\n// import '../cyberpunk-theme.css';\n//\n// const HockeyField = () => {\n//   const [player1, setPlayer1] = useState({ x: 100, y: 300, r: 10 });\n//   const [player2, setPlayer2] = useState({ x: 700, y: 300, r: 10 });\n//   const [ball, setBall] = useState({ x: 400, y: 300, r: 10 });\n//\n//   const ws = useRef(null);\n//\n//   useEffect(() => {\n//     ws.current = new WebSocket('ws://localhost:8765');\n//\n//     ws.current.onopen = () => {\n//       console.log('WebSocket connection opened');\n//     };\n//\n//     ws.current.onmessage = (event) => {\n//       const data = JSON.parse(event.data);\n//       console.log(data);\n//       setPlayer2({ x: data.player2.position[0], y: data.player2.position[1], r: data.player2.radius });\n//       setBall({ x: data.ball.position[0], y: data.ball.position[1], r: data.ball.radius });\n//     };\n//\n//     ws.current.onclose = () => {\n//       console.log('WebSocket connection closed');\n//     };\n//\n//     return () => {\n//       ws.current.close();\n//     };\n//   });\n//\n//   const handleMouseMove = (event) => {\n//     const rect = event.target.getBoundingClientRect();\n//     const x = event.clientX - rect.left;\n//     const y = event.clientY - rect.top;\n//     const r = player1.r;\n//     setPlayer1({ x, y, r });\n//\n//     // Send player1 position to backend\n//     if (ws.current && ws.current.readyState === WebSocket.OPEN) {\n//       ws.current.send(JSON.stringify({ dx: x - player1.x, dy: y - player1.y }));\n//     }\n//   };\n//\n//   return (\n//     <div className=\"hockey-field\" onMouseMove={handleMouseMove}>\n//       <Player x={player1.x} y={player1.y} r={player1.r} />\n//       <Player x={player2.x} y={player2.y} r={player2.r} isOpponent />\n//       <Ball x={ball.x} y={ball.y} r={ball.r} />\n//     </div>\n//   );\n// };\n\nimport React, { useEffect, useState, useRef, useCallback } from 'react';\nimport Player from './Player';\nimport Ball from './Ball';\nimport '../cyberpunk-theme.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst HockeyField = () => {\n  _s();\n  const [player1, setPlayer1] = useState({\n    x: 100,\n    y: 300,\n    r: 20\n  });\n  const [player2, setPlayer2] = useState({\n    x: 700,\n    y: 300,\n    r: 20\n  });\n  const [ball, setBall] = useState({\n    x: 400,\n    y: 300,\n    r: 10\n  });\n  const ws = useRef(null);\n  const updateState = useCallback(data => {\n    setPlayer1({\n      x: data.player1.position[0],\n      y: data.player1.position[1],\n      r: data.player1.radius\n    });\n    setPlayer2({\n      x: data.player2.position[0],\n      y: data.player2.position[1],\n      r: data.player2.radius\n    });\n    setBall({\n      x: data.ball.position[0],\n      y: data.ball.position[1],\n      r: data.ball.radius\n    });\n  }, []);\n  useEffect(() => {\n    ws.current = new WebSocket('ws://192.168.21.25:8080');\n    ws.current.onopen = () => {\n      console.log('WebSocket connection opened');\n    };\n    ws.current.onmessage = event => {\n      const data = JSON.parse(event.data);\n      requestAnimationFrame(() => {\n        updateState(data);\n      });\n    };\n    ws.current.onclose = () => {\n      console.log('WebSocket connection closed');\n    };\n    return () => {\n      ws.current.close();\n    };\n  }, [updateState]);\n  useEffect(() => {\n    const handleKeyDown = event => {\n      const {\n        key\n      } = event;\n      let {\n        x,\n        y,\n        r\n      } = player1;\n      switch (key) {\n        case 'ArrowUp':\n          y -= 10;\n          break;\n        case 'ArrowDown':\n          y += 10;\n          break;\n        case 'ArrowLeft':\n          x -= 10;\n          break;\n        case 'ArrowRight':\n          x += 10;\n          break;\n        default:\n          break;\n      }\n\n      // Send player1 position to backend\n      if (ws.current && ws.current.readyState === WebSocket.OPEN) {\n        ws.current.send(JSON.stringify({\n          dx: (x - player1.x) / 5,\n          dy: (y - player1.y) / 5\n        }));\n      }\n    };\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [player1]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"hockey-field\",\n    children: [/*#__PURE__*/_jsxDEV(Player, {\n      x: player1.x,\n      y: player1.y,\n      r: player1.r,\n      isOpponent: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Player, {\n      x: player2.x,\n      y: player2.y,\n      r: player2.r\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Ball, {\n      x: ball.x,\n      y: ball.y,\n      r: ball.r\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 5\n  }, this);\n};\n_s(HockeyField, \"LXIXHY8vEAXC8Jb4r+fgP1hNoak=\");\n_c = HockeyField;\nexport default HockeyField;\nvar _c;\n$RefreshReg$(_c, \"HockeyField\");","map":{"version":3,"names":["React","useEffect","useState","useRef","useCallback","Player","Ball","jsxDEV","_jsxDEV","HockeyField","_s","player1","setPlayer1","x","y","r","player2","setPlayer2","ball","setBall","ws","updateState","data","position","radius","current","WebSocket","onopen","console","log","onmessage","event","JSON","parse","requestAnimationFrame","onclose","close","handleKeyDown","key","readyState","OPEN","send","stringify","dx","dy","window","addEventListener","removeEventListener","className","children","isOpponent","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/glazochek/PycharmProjects/M8 Python 3/react_hookey/src/components/HockeyField.jsx"],"sourcesContent":["// import React, { useEffect, useState, useRef } from 'react';\n// import Player from './Player';\n// import Ball from './Ball';\n// import '../cyberpunk-theme.css';\n//\n// const HockeyField = () => {\n//   const [player1, setPlayer1] = useState({ x: 100, y: 300, r: 10 });\n//   const [player2, setPlayer2] = useState({ x: 700, y: 300, r: 10 });\n//   const [ball, setBall] = useState({ x: 400, y: 300, r: 10 });\n//\n//   const ws = useRef(null);\n//\n//   useEffect(() => {\n//     ws.current = new WebSocket('ws://localhost:8765');\n//\n//     ws.current.onopen = () => {\n//       console.log('WebSocket connection opened');\n//     };\n//\n//     ws.current.onmessage = (event) => {\n//       const data = JSON.parse(event.data);\n//       console.log(data);\n//       setPlayer2({ x: data.player2.position[0], y: data.player2.position[1], r: data.player2.radius });\n//       setBall({ x: data.ball.position[0], y: data.ball.position[1], r: data.ball.radius });\n//     };\n//\n//     ws.current.onclose = () => {\n//       console.log('WebSocket connection closed');\n//     };\n//\n//     return () => {\n//       ws.current.close();\n//     };\n//   });\n//\n//   const handleMouseMove = (event) => {\n//     const rect = event.target.getBoundingClientRect();\n//     const x = event.clientX - rect.left;\n//     const y = event.clientY - rect.top;\n//     const r = player1.r;\n//     setPlayer1({ x, y, r });\n//\n//     // Send player1 position to backend\n//     if (ws.current && ws.current.readyState === WebSocket.OPEN) {\n//       ws.current.send(JSON.stringify({ dx: x - player1.x, dy: y - player1.y }));\n//     }\n//   };\n//\n//   return (\n//     <div className=\"hockey-field\" onMouseMove={handleMouseMove}>\n//       <Player x={player1.x} y={player1.y} r={player1.r} />\n//       <Player x={player2.x} y={player2.y} r={player2.r} isOpponent />\n//       <Ball x={ball.x} y={ball.y} r={ball.r} />\n//     </div>\n//   );\n// };\n\nimport React, {useEffect, useState, useRef, useCallback} from 'react';\nimport Player from './Player';\nimport Ball from './Ball';\nimport '../cyberpunk-theme.css';\n\nconst HockeyField = () => {\n  const [player1, setPlayer1] = useState({ x: 100, y: 300, r: 20 });\n  const [player2, setPlayer2] = useState({ x: 700, y: 300, r: 20 });\n  const [ball, setBall] = useState({ x: 400, y: 300, r: 10 });\n\n  const ws = useRef(null);\n\n  const updateState = useCallback((data) => {\n    setPlayer1({ x: data.player1.position[0], y: data.player1.position[1], r: data.player1.radius });\n    setPlayer2({ x: data.player2.position[0], y: data.player2.position[1], r: data.player2.radius });\n    setBall({ x: data.ball.position[0], y: data.ball.position[1], r: data.ball.radius });\n  }, []);\n\n  useEffect(() => {\n    ws.current = new WebSocket('ws://192.168.21.25:8080');\n\n    ws.current.onopen = () => {\n      console.log('WebSocket connection opened');\n    };\n\n    ws.current.onmessage = (event) => {\n      const data = JSON.parse(event.data);\n      requestAnimationFrame(() => {\n        updateState(data);\n      });\n    };\n\n    ws.current.onclose = () => {\n      console.log('WebSocket connection closed');\n    };\n\n    return () => {\n      ws.current.close();\n    };\n  }, [updateState]);\n\n  useEffect(() => {\n    const handleKeyDown = (event) => {\n      const { key } = event;\n      let { x, y, r } = player1;\n\n      switch (key) {\n        case 'ArrowUp':\n          y -= 10;\n          break;\n        case 'ArrowDown':\n          y += 10;\n          break;\n        case 'ArrowLeft':\n          x -= 10;\n          break;\n        case 'ArrowRight':\n          x += 10;\n          break;\n        default:\n          break;\n      }\n\n      // Send player1 position to backend\n      if (ws.current && ws.current.readyState === WebSocket.OPEN) {\n        ws.current.send(JSON.stringify({ dx: (x - player1.x)/5, dy: (y - player1.y)/5 }));\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [player1]);\n\n  return (\n    <div className=\"hockey-field\">\n      <Player x={player1.x} y={player1.y} r={player1.r} isOpponent/>\n      <Player x={player2.x} y={player2.y} r={player2.r} />\n      <Ball x={ball.x} y={ball.y} r={ball.r} />\n    </div>\n  );\n};\n\nexport default HockeyField;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}