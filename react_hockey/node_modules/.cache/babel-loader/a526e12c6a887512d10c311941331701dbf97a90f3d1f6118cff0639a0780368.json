{"ast":null,"code":"var _jsxFileName = \"/Users/glazochek/PycharmProjects/M8 Python 3/react_hookey/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WIDTH = 800;\nconst HEIGHT = 600;\nconst PADDLE_RADIUS = 20;\nconst BALL_RADIUS = 10;\nconst WHITE = '#FFFFFF';\nconst RED = '#FF0000';\nconst BLUE = '#0000FF';\nconst BLACK = '#000000';\nconst GRAY = '#CCCCCC';\nconst GREEN = '#00FF00';\nfunction App() {\n  _s();\n  const canvasRef = useRef(null);\n  const [connected, setConnected] = useState(false);\n  const [gameStarted, setGameStarted] = useState(false);\n  const [playerNum, setPlayerNum] = useState(null);\n  const [player1, setPlayer1] = useState({\n    x: 200,\n    y: 200\n  });\n  const [player2, setPlayer2] = useState({\n    x: 600,\n    y: 200\n  });\n  const [ball, setBall] = useState({\n    x: WIDTH / 2,\n    y: HEIGHT / 2\n  });\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    const ws = new WebSocket(\"ws://192.168.21.25:8080/\");\n    ws.onopen = () => {\n      setConnected(true);\n    };\n    ws.onmessage = message => {\n      const data = JSON.parse(message.data);\n      if (data.type === 'update') {\n        setPlayer1(data.player1);\n        setPlayer2(data.player2);\n        setBall(data.ball);\n        setGameStarted(data.gameStarted);\n        setPlayerNum(data.playerNum);\n      }\n    };\n    ws.onclose = () => {\n      setConnected(false);\n    };\n    const draw = () => {\n      ctx.fillStyle = WHITE;\n      ctx.fillRect(0, 0, WIDTH, HEIGHT);\n      ctx.strokeStyle = GRAY;\n      ctx.beginPath();\n      ctx.moveTo(WIDTH / 2, 0);\n      ctx.lineTo(WIDTH / 2, HEIGHT);\n      ctx.stroke();\n      ctx.beginPath();\n      ctx.arc(WIDTH / 2, HEIGHT / 2, 50, 0, 2 * Math.PI);\n      ctx.stroke();\n      ctx.fillStyle = RED;\n      ctx.beginPath();\n      ctx.arc(player1.x, player1.y, PADDLE_RADIUS, 0, 2 * Math.PI);\n      ctx.fill();\n      ctx.fillStyle = BLUE;\n      ctx.beginPath();\n      ctx.arc(player2.x, player2.y, PADDLE_RADIUS, 0, 2 * Math.PI);\n      ctx.fill();\n      ctx.fillStyle = BLACK;\n      ctx.beginPath();\n      ctx.arc(ball.x, ball.y, BALL_RADIUS, 0, 2 * Math.PI);\n      ctx.fill();\n      ctx.fillStyle = BLACK;\n      ctx.font = '36px Arial';\n      if (!gameStarted) {\n        ctx.fillText('Waiting for another player...', WIDTH / 2 - 150, 50);\n      } else {\n        if (playerNum === 0) {\n          ctx.fillText('You are Player 1 (Red)', WIDTH / 2 - 100, 50);\n        } else {\n          ctx.fillText('You are Player 2 (Blue)', WIDTH / 2 - 100, 50);\n        }\n      }\n      ctx.fillStyle = connected ? GREEN : RED;\n      ctx.fillText(connected ? 'Connected' : 'Disconnected', WIDTH - 150, 50);\n    };\n    const mouseMoveHandler = e => {\n      if (connected && gameStarted) {\n        const rect = canvas.getBoundingClientRect();\n        const mouseX = e.clientX - rect.left;\n        const mouseY = e.clientY - rect.top;\n        const myX = Math.max(PADDLE_RADIUS, Math.min(mouseX, WIDTH - PADDLE_RADIUS));\n        const myY = Math.max(PADDLE_RADIUS, Math.min(mouseY, HEIGHT - PADDLE_RADIUS));\n\n        // send player update to server\n        ws.send(JSON.stringify({\n          type: 'playerUpdate',\n          x: myX,\n          y: myY\n        }));\n      }\n    };\n    canvas.addEventListener('mousemove', mouseMoveHandler);\n    const interval = setInterval(draw, 1000 / 60);\n    return () => {\n      clearInterval(interval);\n      canvas.removeEventListener('mousemove', mouseMoveHandler);\n      ws.close();\n    };\n  }, [connected, gameStarted, player1, player2, ball, playerNum]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      width: WIDTH,\n      height: HEIGHT\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"C4YcVSidXtlishLX47JXO8dnWfE=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useRef","useState","jsxDEV","_jsxDEV","WIDTH","HEIGHT","PADDLE_RADIUS","BALL_RADIUS","WHITE","RED","BLUE","BLACK","GRAY","GREEN","App","_s","canvasRef","connected","setConnected","gameStarted","setGameStarted","playerNum","setPlayerNum","player1","setPlayer1","x","y","player2","setPlayer2","ball","setBall","canvas","current","ctx","getContext","ws","WebSocket","onopen","onmessage","message","data","JSON","parse","type","onclose","draw","fillStyle","fillRect","strokeStyle","beginPath","moveTo","lineTo","stroke","arc","Math","PI","fill","font","fillText","mouseMoveHandler","e","rect","getBoundingClientRect","mouseX","clientX","left","mouseY","clientY","top","myX","max","min","myY","send","stringify","addEventListener","interval","setInterval","clearInterval","removeEventListener","close","className","children","ref","width","height","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/glazochek/PycharmProjects/M8 Python 3/react_hookey/src/App.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport './App.css';\n\nconst WIDTH = 800;\nconst HEIGHT = 600;\nconst PADDLE_RADIUS = 20;\nconst BALL_RADIUS = 10;\nconst WHITE = '#FFFFFF';\nconst RED = '#FF0000';\nconst BLUE = '#0000FF';\nconst BLACK = '#000000';\nconst GRAY = '#CCCCCC';\nconst GREEN = '#00FF00';\n\nfunction App() {\n  const canvasRef = useRef(null);\n  const [connected, setConnected] = useState(false);\n  const [gameStarted, setGameStarted] = useState(false);\n  const [playerNum, setPlayerNum] = useState(null);\n  const [player1, setPlayer1] = useState({ x: 200, y: 200 });\n  const [player2, setPlayer2] = useState({ x: 600, y: 200 });\n  const [ball, setBall] = useState({ x: WIDTH / 2, y: HEIGHT / 2 });\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    const ws = new WebSocket(\"ws://192.168.21.25:8080/\");\n\n    ws.onopen = () => {\n      setConnected(true);\n    };\n\n    ws.onmessage = (message) => {\n      const data = JSON.parse(message.data);\n      if (data.type === 'update') {\n        setPlayer1(data.player1);\n        setPlayer2(data.player2);\n        setBall(data.ball);\n        setGameStarted(data.gameStarted);\n        setPlayerNum(data.playerNum);\n      }\n    };\n\n    ws.onclose = () => {\n      setConnected(false);\n    };\n\n    const draw = () => {\n      ctx.fillStyle = WHITE;\n      ctx.fillRect(0, 0, WIDTH, HEIGHT);\n\n      ctx.strokeStyle = GRAY;\n      ctx.beginPath();\n      ctx.moveTo(WIDTH / 2, 0);\n      ctx.lineTo(WIDTH / 2, HEIGHT);\n      ctx.stroke();\n\n      ctx.beginPath();\n      ctx.arc(WIDTH / 2, HEIGHT / 2, 50, 0, 2 * Math.PI);\n      ctx.stroke();\n\n      ctx.fillStyle = RED;\n      ctx.beginPath();\n      ctx.arc(player1.x, player1.y, PADDLE_RADIUS, 0, 2 * Math.PI);\n      ctx.fill();\n\n      ctx.fillStyle = BLUE;\n      ctx.beginPath();\n      ctx.arc(player2.x, player2.y, PADDLE_RADIUS, 0, 2 * Math.PI);\n      ctx.fill();\n\n      ctx.fillStyle = BLACK;\n      ctx.beginPath();\n      ctx.arc(ball.x, ball.y, BALL_RADIUS, 0, 2 * Math.PI);\n      ctx.fill();\n\n      ctx.fillStyle = BLACK;\n      ctx.font = '36px Arial';\n      if (!gameStarted) {\n        ctx.fillText('Waiting for another player...', WIDTH / 2 - 150, 50);\n      } else {\n        if (playerNum === 0) {\n          ctx.fillText('You are Player 1 (Red)', WIDTH / 2 - 100, 50);\n        } else {\n          ctx.fillText('You are Player 2 (Blue)', WIDTH / 2 - 100, 50);\n        }\n      }\n\n      ctx.fillStyle = connected ? GREEN : RED;\n      ctx.fillText(connected ? 'Connected' : 'Disconnected', WIDTH - 150, 50);\n    };\n\n    const mouseMoveHandler = (e) => {\n      if (connected && gameStarted) {\n        const rect = canvas.getBoundingClientRect();\n        const mouseX = e.clientX - rect.left;\n        const mouseY = e.clientY - rect.top;\n\n        const myX = Math.max(PADDLE_RADIUS, Math.min(mouseX, WIDTH - PADDLE_RADIUS));\n        const myY = Math.max(PADDLE_RADIUS, Math.min(mouseY, HEIGHT - PADDLE_RADIUS));\n\n        // send player update to server\n        ws.send(JSON.stringify({ type: 'playerUpdate', x: myX, y: myY }));\n      }\n    };\n\n    canvas.addEventListener('mousemove', mouseMoveHandler);\n\n    const interval = setInterval(draw, 1000 / 60);\n\n    return () => {\n      clearInterval(interval);\n      canvas.removeEventListener('mousemove', mouseMoveHandler);\n      ws.close();\n    };\n  }, [connected, gameStarted, player1, player2, ball, playerNum]);\n\n  return (\n    <div className=\"App\">\n      <canvas ref={canvasRef} width={WIDTH} height={HEIGHT} />\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}